{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>{{ list.title }}</h1>
    <p>Category: {{ list.category.name }} - {{ list.subcategory }}</p>
    
    <a href="{{ url_for('create_version', original_list_id=list.id) }}" class="create-version-btn">
        Create New Version
    </a>

    <div class="view-toggle">
        <a href="{{ url_for('view_list', list_id=list.id) }}" 
           class="{% if not show_aggregate %}active{% endif %}">Current Version</a>
        <a href="{{ url_for('view_list', list_id=list.id, show_aggregate=1) }}" 
           class="{% if show_aggregate %}active{% endif %}">Aggregated Rankings</a>
    </div>
    
    <div class="list-items">
        {% for item in items %}
        <div class="list-item">
            <h2>#{{ item.rank }} - {{ item.name }}</h2>
            {% if item.description %}
            <p>{{ item.description }}</p>
            {% endif %}
            <div class="stats">
                <span>Total Votes: {{ item.total_votes }}</span>
                <span>Total Points: {{ item.total_points }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }
    .list-items {
        margin-top: 20px;
    }
    .list-item {
        padding: 15px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    .stats {
        margin-top: 10px;
        color: #666;
    }
    .stats span {
        margin-right: 20px;
    }
</style>
{% endblock %} 